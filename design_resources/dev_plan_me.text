# 펜타큐리티 디자인 자산 관리 포털 사이트 


## 1. 프로젝트 개요

### 프로젝트 이름 
LAYERARY (포털 사이트 이름과 동일함)

### 프로젝트 목표
사용자가 펜타시큐리티의 디자인 작업물을 리뷰하고, 필요한 리소스(CI/BI, ICON, PPT 템플릿 등)를 검색, 편집(바탕화면 등 일부 리소스에 한함), 및 다운로드할 수 있는 중앙 집중식 플랫폼 구축.

### 구현 제외 메뉴 (페이지) 및 추후 구현 할 기능
- eDM 메뉴 : UI에 메뉴는 추가하지만, 실제 기능(eDM 생성)은 외부에 구현된 사이트로 링크하여 사용하도록 함 ( https://img-edm-code-generator.vercel.app/ )
- SOURCE, TEMPLATE 카테고리의 일부 메뉴( ICON, 바탕화면 등 )의 편집 기능은 나중에 구현할 예정입니다.


## 2. 기술 스택 (Development Stack)

- Frontend : Next.js (React), TypeScript
- Styling : Tailwind CSS
- UI Components: Shadcn UI
- Backend: Next.js API Routes / Server Actions
- Database : Supabase (PostgreSQL)
- Storage : Backblaze B2 ( 이미지, PPT 등 실제 데이터 원본 파일 저장 )
- ORM: Prisma
- Auth: NextAuth.js (Auth.js)

> Note: Supabase는 데이터베이스 및 인증에만 사용하며, 파일 스토리지는 Backblaze B2 저장소 연동하여 사용한다


## 3. 화면 구조 및 레이아웃

a. 전체 레이아웃은 design_resources 폴더아래 `ui-layout.png`를 기준으로 화면을 구성하며, 모바일 반응형을 지원합니다.
b. 최초 접속 시 홈 화면은 design_resources 폴더아래 `ui-home.png`를 기준으로 구성한다. 
-- 상단 4개의 카드는 클릭 시 각각의 카테고리 서브 메뉴의 첫번째 메뉴 페이지로 이동한다.
-- `최근 게시물` 및 `공지 사항` 영역은 기능 구현 전에는 더미 데이터를 이용한다.

### A. 레이아웃 

컴포넌트                  |      위치 및 역할	            |             상세 설명
------------------------------------------------------------------------------------------
Header	                |    상단 고정	                 |   회사 로고(좌측), 통합 검색 UI (우측).
Sidebar (Navigation)	|    좌측 고정	                 |   메인 메뉴 리스트 (WORK, SOURCE, TEMPLATE, BROCHURE, Etc 카테고리 및 하위 메뉴로 구성).
Content Area            |	 우측 메인 영역	              |   선택된 메뉴에 따른 게시물(아이템) 목록을 그리드 형태로 표시 (참고 이미지 (ui-layout.png) 와 유사).
Item Detail Page	    |    Content Area 내/별도 페이지  |   아이템 클릭 시 다이얼로그로 팝업(Penta Design 메뉴) 되거나 별도 페이지로(바탕화면 메뉴) 이동하는 상세 정보 화면.

### B. 메뉴 구성

카테고리     |            서브 메뉴 페이지                |               기능 요구사항
------------------------------------------------------------------------------------------
WORK       |  Penta Design                          |  기 제작된 디자인 산출물 목록 표시 및 다운로드.
SOURCE     |  CI/BI, ICON, 캐릭터, 다이어그램            |  벡터 이미지(SVG) 목록 표시. 핵심 기능: 클라이언트 측 편집 (크기, 선 굵기, 특정 색상 변경) 후 다운로드.(나중에 구현할 예정임)
TEMPLATE   |  PPT, 감사/연말 카드, 바탕화면, 웰컴보드       |  회사 공식 템플릿 목록 표시 및 파일 다운로드. (바탕화면 등 일부 메뉴는 편집 기능은 나중에 구현할 예정임)
BROCHURE   |  WAPPLES, D.AMO, iSIGN, Cloudbric      |  제품별 브로셔 목록 표시 및 파일 다운로드.
ADMIN      |  대시보드, 사용자 관리, 공지사항 관리           | 대시보드: 게시물/이미지 집계와 외부 대시보드 바로가기, 사용자 관리: 등록된 사용자 목록과 권한 관리, 공지사항 관리: 공지사항 등록, 수정, 삭제 관리.


## 4. 핵심 기능 요구사항 (Core Functional Requirements)

### A. 게시물(아이템) 관리 및 검색

a. 게시물 목록 표시 : Content Area에 이미지 썸네일과 함께 그리드 형태로 표시.
b. 상세 정보 표시 : 아이템 클릭 시 다이얼로그를 띄우고 상세 정보를 표시합니다. (design_resources > ui-dialogue.png 참고) 
    - 게시물 이름, 설명, 세부 이미지, 파일 크기(용량)
    - 관리자만 보이는 정보: 등록자, 등록일, 수정일.
    - 팝업은 최대 너비 1200px, 높이는 90vh 로 합니다. 
    - 팝업은 좌/우측에 화살표를 배치해서 이전, 다음 게시물을 볼 수 있도록 합니다.
c. 검색 기능:
    - 통합 검색: Header의 검색 UI를 통해 전체 게시물 대상 통합 검색.
    - 상세 검색: 범위, 카테고리, 등록기간, 파일 용량의 조건으로 검색 가능 (design_resources > ui-detail-search.png 참고)
d. 게시물 업로드 (관리자 전용):
    - 관리자는 이미지 파일 및 압축 파일(.zip, .ppt, .svg 등) 업로드 가능.
    - 업로드된 게시물 정보는 Supabase DB 에 저장하고, 원본 파일은 Backblaze B2 버킷에 저장한다. 


### B. SOURCE 카테고리의 메뉴 별 벡터 편집 기능 (Critical)

a. 요구사항: 
    - CI/BI, ICON 등의 SVG 파일에 대해 사용자(로그인 회원)가 직접 편집 후 다운로드할 수 있어야 합니다.
b. 편집 요소:
    - 크기 (Size: width, height 또는 비율로 변경)
    - 선 굵기 (Stroke Width)
    - 특정 색상 (Fill/Stroke Color)
c. 기술 구현: 
    - Next.js의 클라이언트 컴포넌트에서 React 및 SVG 조작 라이브러리를 사용하여 구현 (예: SVG를 DOM으로 렌더링하고 React State와 fill, stroke-width 속성을 연동).
    - 또는 위와 같은 편집 기술 구현이 가능한 다른 최적의 대안을 선택한다.
d. 다운로드 포맷: 
    - 편집된 최종 결과물을 SVG, PNG, JPG 포맷으로 다운로드할 수 있어야 합니다. (예, PNG/JPG는 클라이언트 측에서 Canvas API 등을 이용해 SVG를 래스터 이미지로 변환하여 제공).


### C. 사용자 및 권한 관리

a. 인증: 회원 가입 및 로그인 기능 구현 (NextAuth.js 사용).
b. 권한 정의:
    - 관리자 (Admin): 게시물 업로드/수정/삭제, 등록자/수정일 정보 열람 가능.
    - 회원 (Member): 게시물 검색, 상세 정보 열람, 모든 게시물 다운로드 가능 (SOURCE 포함). 일부 메뉴의 게시물은 편집 가능해야 함
c. 접근 제한:
    - 업로드 기능은 관리자에게만 노출 및 접근 허용.
    - 다운로드 기능은 로그인한 회원 이상 사용자에게만 허용.

d. 사용자 프로필 설정 
    - 로그인 회원의 아바타 사진, 이름, 비밀번호를 설정 및 변경할 수 있으며, 회원탈퇴를 할 수 있음


## 5. 개발 환경 설정 (Initial Setup)
Cursor AI에게 개발 계획을 구체적이고 상세히 수립하고, 아래 초기 설정 및 구조 작업을 지시함

1. Next.js 프로젝트 초기화: TypeScript, Tailwind CSS, App Router를 사용하여 프로젝트를 설정합니다.
2. Shadcn UI 설정: Shadcn UI를 프로젝트에 통합하고 button, card, table 등 기본 컴포넌트를 설정합니다.
3. Prisma & DB 연결: schema.prisma 파일을 초기화하고 Post (게시물), User (사용자), Category 모델을 정의하고, Supabase 연결을 설정합니다.
4. 기본 레이아웃 구성: Header와 Sidebar 컴포넌트가 포함된 루트 레이아웃을 참고 이미지(ui-layout.png)와 같이 구현합니다.